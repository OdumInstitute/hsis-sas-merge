{% comment %} {% block content %} {% endcomment %}

<form action="" method="post" enctype="multipart/form-data" style='visibility:hidden;' id ='ourform'>
    {% csrf_token %}
    <table>
        {{form}}
    </table>
    <input type="submit" name="submit" value="Process">
</form>

<script>
    function showOther() {
        console.log('showOther!');
        console.log(document.getElementById('id_other_dataset').parentElement.parentElement);
        if(document.getElementById('id_dataset').value == 'other' ) {
            document.getElementById('id_other_dataset').parentElement.parentElement.style = "";
            console.log('yea')
        }
        else {
            document.getElementById('id_other_dataset').parentElement.parentElement.style = "display:none;";
            console.log('hidden')
        }
        //we hide the form on page load to not flicker
        //TODO: the form should use a css class instead and we should remove it with .removeClass
        document.getElementById('ourform').style=''; 
    }
    document.getElementById('id_dataset').addEventListener('change', showOther, false);
    window.onload = showOther;
</script>

{% comment %} {% endblock content %} {% endcomment %}